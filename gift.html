<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Your Sunflower</title>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  
  <style>
    body {
      font-family: 'Press Start 2P', cursive;
      margin: 0;
      padding: 0;
      background-color: #f3ebff;
      background-image: radial-gradient(#d1c4e9 2px, transparent 2px);
      background-size: 20px 20px;
      color: #2e003e;
      text-align: center;
    }

    header {
      background: #4a148c;
      color: #fff;
      padding: 40px 20px;
      border-bottom: 6px solid #000;
    }

    .card {
      background: #ffffff;
      border: 6px solid #000;
      padding: 30px;
      margin: 40px auto;
      max-width: 450px;
      box-shadow: 15px 15px 0px #aa00ff;
    }

    .image-border {
      border: 4px solid #000;
      background: #6a1b9a;
      padding: 10px;
      margin-bottom: 20px;
    }

    .sunflower-gif {
      width: 100%;
      image-rendering: pixelated; 
    }

    button {
      background: #00e676;
      border: 4px solid #000;
      padding: 20px;
      font-family: 'Press Start 2P', cursive;
      font-size: 0.9rem;
      color: #000;
      cursor: pointer;
      box-shadow: 6px 6px 0px #000;
      margin-top: 20px;
      width: 100%;
    }

    button:hover {
      background: #00c853;
      transform: translate(2px, 2px);
      box-shadow: 4px 4px 0px #000;
    }

    button:active {
      transform: translate(6px, 6px);
      box-shadow: 0px 0px 0px #000;
    }
  </style>
</head>
<body>
  
  <header>
    <h1>ðŸŒ» ITEM ACQUIRED! ðŸŒ»</h1>
    <p>SUNFLOWER ADDED TO INVENTORY</p>
  </header>

  <main>
    <section class="card">
      <div class="image-border">
        <img src="https://media.giphy.com/media/3o7abldj0b3rxrZUxW/giphy.gif" alt="Sunflower" class="sunflower-gif">
      </div>
      <button id="downloadCertificate">PRINT CERTIFICATE</button>
    </section>
  </main>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <script>
    document.getElementById("downloadCertificate").addEventListener("click", function() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();

      // 1. STYLIZED BORDERS
      doc.setDrawColor(74, 20, 140); 
      doc.setLineWidth(2);
      doc.rect(5, 5, 200, 287); // Page edge border
      
      doc.setLineWidth(5);
      doc.rect(12, 12, 186, 273); // Main thick border

      // 2. HIGH-RES PIXEL SUNFLOWER DRAWING
      const centerX = 105;
      const centerY = 90;
      const p = 5; // Pixel size (smaller = more detail)

      const colors = {
        y: [255, 215, 0],  // Yellow
        o: [255, 165, 0],  // Orange
        b: [101, 67, 33],  // Brown
        g: [34, 139, 34],  // Green
        d: [0, 100, 0]     // Dark Green
      };

      // Sunflower Map (Petals and Center)
      const sunflowerMap = [
        [null,null,'y','y','y',null,null],
        [null,'y','o','y','o','y',null],
        ['y','y','b','b','b','y','y'],
        ['y','o','b','b','b','o','y'],
        ['y','y','b','b','b','y','y'],
        [null,'y','o','y','o','y',null],
        [null,null,'y','y','y',null,null],
        [null,null,null,'g',null,null,null], // Stem
        [null,null,'g','g',null,null,null], // Leaf
        [null,null,null,'g',null,null,null], // Stem
      ];

      sunflowerMap.forEach((row, rowIndex) => {
        row.forEach((pixel, colIndex) => {
          if (pixel) {
            const color = colors[pixel];
            doc.setFillColor(color[0], color[1], color[2]);
            doc.rect(centerX + (colIndex - 3) * p, centerY + (rowIndex - 5) * p, p, p, 'F');
          }
        });
      });

      // 3. TEXT & HEADERS
      doc.setFont("courier", "bold");
      doc.setTextColor(74, 20, 140);
      doc.setFontSize(26);
      doc.text("CERTIFICATE OF BRIGHTNESS", 105, 45, { align: "center" });

      // 4. MESSAGE BOX WITH SHADOW
      // Shadow
      doc.setFillColor(230, 230, 230);
      doc.rect(32, 162, 150, 40, 'F');
      // Main Box
      doc.setDrawColor(0);
      doc.setLineWidth(1);
      doc.setFillColor(255, 255, 255);
      doc.rect(30, 160, 150, 40, 'FD');

      // Message Text
      doc.setTextColor(0);
      doc.setFontSize(18);
      doc.text("MESSAGE:", 105, 175, { align: "center" });
      doc.setFont("courier", "bolditalic");
      doc.setTextColor(106, 27, 154);
      doc.text("~ Special Sunflower only to Doggy! ~", 105, 188, { align: "center" });

      // 5. DATE SECTION
      const today = new Date().toLocaleDateString('en-US', { 
        year: 'numeric', month: 'long', day: 'numeric' 
      });
      
      doc.setFont("courier", "normal");
      doc.setTextColor(100);
      doc.setFontSize(12);
      doc.text("ISSUED ON", 105, 250, { align: "center" });
      doc.setTextColor(0);
      doc.setFontSize(14);
      doc.text(today.toUpperCase(), 105, 260, { align: "center" });

      doc.save("Sunflower_Cert.pdf");
    });
  </script>
</body>
</html>
